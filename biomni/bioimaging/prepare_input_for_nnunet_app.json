{
  "name": "Prepare Input for nnUNet",
  "description": "Prepare input data for nnUNet by handling both 4D and pre-split modality files",
  "class": "bioimaging",
  "entrypoint": "prepare_input_for_nnunet.py",
  "parameters": {
    "input_path": {
      "type": "string",
      "description": "Path to input file or directory",
      "required": true
    },
    "output_dir": {
      "type": "string",
      "description": "Directory to save prepared files",
      "required": true
    },
    "case_name": {
      "type": "string",
      "description": "Base name for the case (default: BRAT)",
      "required": false,
      "default": "BRAT"
    }
  },
  "returns": {
    "prepared_dir": {
      "type": "string",
      "description": "Path to directory with nnUNet-ready files"
    }
  },
  "setup_commands": [
    "git clone --depth 1 https://github.com/snap-stanford/Biomni.git /tmp/biomni 2>/dev/null || (cd /tmp/biomni && git pull)",
    "pip install -e /tmp/biomni",
    "pip install nibabel numpy SimpleITK torch matplotlib requests"
  ]
}
