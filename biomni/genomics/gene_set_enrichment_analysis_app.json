{
  "name": "biomni-gene-set-enrichment-analysis",
  "title": "Biomni: Gene Set Enrichment Analysis",
  "description": "Perform enrichment analysis for gene lists against multiple biological databases",
  "content": "<h3>Overview</h3><p>Performs gene set enrichment analysis (GSEA) for lists of genes against multiple biological databases including pathways, ontologies, diseases, cell types, and molecular interactions. This tool identifies biological processes, pathways, and functions that are statistically overrepresented in your gene set, providing functional interpretation of genomic data.</p><h3>Input Parameters</h3><ul><li><strong>genes_file</strong> (string): Path to JSON file containing array of gene symbols from stash</li><li><strong>database</strong> (string, optional): Database to query - pathway, transcription, ontology, diseases_drugs, celltypes, kinase_interactions (default: ontology)</li><li><strong>top_k</strong> (integer, optional): Number of top enriched terms to return (default: 10)</li><li><strong>background_file</strong> (string, optional): Path to JSON file with background gene list for custom enrichment</li><li><strong>plot</strong> (boolean, optional): Generate bar plot visualization of results (default: false)</li><li><strong>output</strong> (string): Output directory path</li></ul><h3>Input Format</h3><p>Provide a JSON file with the following structure:</p><pre>{\n  \"genes_file\": \"/path/to/genes.json\",\n  \"database\": \"pathway\",\n  \"top_k\": 20,\n  \"background_file\": \"/path/to/background.json\",\n  \"plot\": true,\n  \"output\": \"/output/directory\"\n}</pre><p>Where genes.json contains:</p><pre>[\"TP53\", \"BRCA1\", \"EGFR\", \"MYC\", \"KRAS\"]</pre><h3>Biological Use Case</h3><p>Critical for interpreting differentially expressed genes, GWAS hits, or any gene list from high-throughput experiments. Used to identify biological pathways affected by treatments, understand disease mechanisms, find enriched Gene Ontology terms in clusters, and discover cell type markers.</p><h3>Output</h3><p>Generates enrichment_results.txt with ranked enriched terms, p-values, adjusted p-values, gene overlaps, and optional visualization plots.</p><h3>Category</h3><p>genomics</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/genomics/gene_set_enrichment_analysis.py \"${inputFile}\" -o \"${outputDir}\"",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Stash File",
      "name": "inputFile",
      "label": "Input File",
      "description": "Input file from stash (JSON format)",
      "defaultValue": ""
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Output directory in stash",
      "defaultValue": "./"
    }
  ]
}