{
  "name": "biomni-analyze-comparative-genomics",
  "title": "Biomni: Analyze Comparative Genomics",
  "description": "Perform comparative genomics and haplotype analysis on multiple genome samples",
  "content": "<h3>Overview</h3><p>Performs multi-sample comparative genomics and haplotype analysis by aligning genome sequences to a reference and identifying structural variations, SNPs, indels, and haplotype blocks. This tool enables evolutionary analysis and population genomics studies across multiple samples.</p><h3>Input Parameters</h3><ul><li><strong>sample_files_json</strong> (string): Path to JSON file containing array of sample FASTA file paths from stash</li><li><strong>reference_genome</strong> (string): Path to reference genome FASTA file from stash</li><li><strong>output</strong> (string): Output directory path</li></ul><h3>Input Format</h3><p>Provide a JSON file with the following structure:</p><pre>{\n  \"sample_files_json\": \"/path/to/sample_list.json\",\n  \"reference_genome\": \"/path/to/reference.fasta\",\n  \"output\": \"/output/directory\"\n}</pre><p>Where sample_list.json contains:</p><pre>[\n  \"/path/to/sample1.fasta\",\n  \"/path/to/sample2.fasta\",\n  \"/path/to/sample3.fasta\"\n]</pre><h3>Biological Use Case</h3><p>Critical for population genomics studies, evolutionary biology research, and identifying genetic variations across individuals or strains. Used to detect structural variants, analyze haplotype diversity, study evolutionary relationships, and identify genomic regions under selection.</p><h3>Output</h3><p>Generates comparative_genomics_log.txt with alignment statistics, variant calls, haplotype information, and phylogenetic relationships between samples.</p><h3>Category</h3><p>genomics</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/genomics/analyze_comparative_genomics.py \"${inputFile}\" -o \"${outputDir}\"",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Stash File",
      "name": "inputFile",
      "label": "Input File",
      "description": "Input file from stash (JSON format)",
      "defaultValue": ""
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Output directory in stash",
      "defaultValue": "./"
    }
  ]
}