{
  "name": "biomni-find-enriched-motifs-homer",
  "title": "Biomni: Find Enriched Motifs Homer",
  "description": "Discover DNA sequence motifs enriched in genomic regions using HOMER motif discovery",
  "content": "<h3>Overview</h3><p>Discovers DNA sequence motifs enriched in genomic regions using HOMER (Hypergeometric Optimization of Motif EnRichment). This tool identifies transcription factor binding motifs and regulatory sequences that are significantly overrepresented in your regions of interest compared to background, revealing the regulatory logic controlling gene expression.</p><h3>Input Parameters</h3><ul><li><strong>peak_file</strong> (string): Path to peak file in BED format from stash</li><li><strong>genome</strong> (string, optional): Reference genome (hg38, hg19, mm10, mm9, etc.) (default: hg38)</li><li><strong>background_file</strong> (string, optional): Path to BED file with background regions (default: auto-generated)</li><li><strong>motif_length</strong> (string, optional): Comma-separated motif lengths to search (default: 8,10,12)</li><li><strong>num_motifs</strong> (integer, optional): Number of top motifs to report (default: 10)</li><li><strong>threads</strong> (integer, optional): Number of CPU threads (default: 4)</li><li><strong>output</strong> (string): Output directory path</li></ul><h3>Input Format</h3><p>Provide a JSON file with the following structure:</p><pre>{\n  \"peak_file\": \"/path/to/peaks.bed\",\n  \"genome\": \"hg38\",\n  \"background_file\": \"/path/to/background.bed\",\n  \"motif_length\": \"8,10,12\",\n  \"num_motifs\": 25,\n  \"threads\": 8,\n  \"output\": \"/output/directory\"\n}</pre><h3>Biological Use Case</h3><p>Essential for identifying transcription factors driving gene regulation in ChIP-seq, ATAC-seq, or DNase-seq experiments. Used to discover binding motifs in open chromatin regions, identify master regulators in differentiation, find co-factors working together, and understand cis-regulatory elements controlling cell-type-specific gene expression.</p><h3>Output</h3><p>Generates homer_log.txt with enrichment statistics, motif logos, position weight matrices, and known transcription factor matches for the most significantly enriched motifs.</p><h3>Category</h3><p>genomics</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/genomics/find_enriched_motifs_homer.py \"${inputFile}\" -o \"${outputDir}\"",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Stash File",
      "name": "inputFile",
      "label": "Input File",
      "description": "Input file from stash (JSON format)",
      "defaultValue": ""
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Output directory in stash",
      "defaultValue": "./"
    }
  ]
}