{
  "name": "biomni-analyze-bone-microct-morphometry",
  "title": "Biomni: Analyze Bone Microct Morphometry",
  "description": "Analyze bone microarchitecture parameters from 3D micro-CT images including bone mineral density, bone volume, trabecular number/thickness/separation.",
  "content": "<h3>Overview</h3><p>This pathology analysis tool performs comprehensive quantitative analysis of bone microarchitecture from 3D micro-CT imaging data. The tool calculates critical bone morphometry parameters including bone mineral density (BMD), bone volume fraction (BV/TV), trabecular thickness (Tb.Th), trabecular number (Tb.N), trabecular separation (Tb.Sp), and connectivity metrics essential for assessing bone quality and structure.</p><h3>Input Parameters</h3><ul><li><strong>input_file_path</strong> (required): Path to the 3D micro-CT image file (DICOM, TIFF stack, or NIfTI format)</li><li><strong>output_dir</strong> (optional): Directory for saving analysis results (default: './results')</li><li><strong>threshold_value</strong> (optional): Custom threshold for bone segmentation; if not provided, automatic thresholding is applied</li></ul><h3>Input Format</h3><pre><code>{\n  \"input_file_path\": \"/path/to/microct_scan.dcm\",\n  \"output_dir\": \"./bone_analysis\",\n  \"threshold_value\": null\n}</code></pre><h3>Biological Use Case</h3><p>Bone micro-CT morphometry is essential for studying osteoporosis, osteoarthritis, bone healing, and skeletal development. This tool supports preclinical drug efficacy studies for osteoporosis treatments, fracture risk assessment, evaluation of bone regeneration therapies, and basic research into bone biology and aging. Clinical applications include monitoring disease progression in metabolic bone diseases, assessing the effectiveness of anti-resorptive or anabolic therapies, and investigating genetic disorders affecting bone structure such as osteogenesis imperfecta.</p><h3>Output</h3><p>The analysis generates a comprehensive report of bone morphometric parameters including BMD, BV/TV ratio, trabecular microarchitecture metrics, cortical thickness measurements, and 3D connectivity indices. Results include statistical summaries, comparative visualizations, 3D reconstructions with color-coded density maps, and exportable data tables for further statistical analysis.</p><h3>Category</h3><p>pathology</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/pathology/analyze_bone_microct_morphometry.py \"${inputFile}\" -o \"${outputDir}\"",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Stash File",
      "name": "inputFile",
      "label": "Input File",
      "description": "Input file from stash (JSON format)",
      "defaultValue": ""
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Output directory in stash",
      "defaultValue": "./"
    }
  ]
}