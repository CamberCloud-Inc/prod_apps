{
  "name": "biomni-download-synapse-data",
  "title": "Biomni: Download Synapse Data",
  "description": "Download data from Synapse using entity IDs. Uses the synapse CLI to download files, folders, or projects from Synapse. Requires SYNAPSE_AUTH_TOKEN environment variable for authentication.",
  "content": "<h3>Overview</h3><p>This utility tool downloads data from Synapse (Sage Bionetworks) using entity IDs. It provides programmatic access to Synapse repositories for retrieving files, folders, or entire projects. Authentication is handled via SYNAPSE_AUTH_TOKEN environment variable.</p><h3>Input Parameters</h3><ul><li><strong>entity_ids</strong> (required): List of Synapse entity IDs to download (e.g., 'syn12345678')</li><li><strong>download_location</strong> (optional): Target directory path for downloaded files</li><li><strong>follow_link</strong> (boolean, default: false): Follow symbolic links in Synapse</li><li><strong>recursive</strong> (boolean, default: false): Recursively download folders and subfolders</li><li><strong>timeout</strong> (integer, default: 300): Download timeout in seconds</li><li><strong>entity_type</strong> (string, default: 'file'): Type of entity ('file', 'folder', or 'project')</li></ul><h3>Input Format</h3><pre><code class=\"language-json\">{\n  \"entity_ids\": [\"syn12345678\", \"syn87654321\"],\n  \"download_location\": \"/output/data\",\n  \"follow_link\": false,\n  \"recursive\": true,\n  \"timeout\": 300,\n  \"entity_type\": \"folder\"\n}</code></pre><h3>Biological Use Case</h3><p>Synapse is a widely-used platform for sharing biomedical research data. This tool enables researchers to:</p><ul><li>Download published genomic datasets from collaborative research projects</li><li>Access reference data and annotations from public repositories</li><li>Retrieve processed results from multi-center studies</li><li>Integrate external datasets into local analysis pipelines</li><li>Access TCGA, GTEx, and other major biomedical data resources</li></ul><h3>Output</h3><p>Creates a text file (download_result.txt) containing download status and paths to retrieved files. Downloaded data files are stored in the specified location or default output directory.</p><h3>Category</h3><p>support_tools</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/support_tools/download_synapse_data.py ${entityIds} -o \"${outputDir}\" --entity-type \"${entityType}\" --timeout ${timeout}",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Input",
      "name": "entityIds",
      "label": "Synapse Entity IDs",
      "description": "Enter Synapse entity IDs separated by spaces (e.g., syn12345678 syn87654321)",
      "defaultValue": ""
    },
    {
      "type": "Select",
      "name": "entityType",
      "label": "Entity Type",
      "description": "Select the type of Synapse entity",
      "options": [
        {
          "label": "File",
          "value": "file"
        },
        {
          "label": "Folder",
          "value": "folder"
        },
        {
          "label": "Project",
          "value": "project"
        }
      ],
      "defaultValue": "file"
    },
    {
      "type": "Input",
      "name": "timeout",
      "label": "Timeout (seconds)",
      "description": "Download timeout in seconds",
      "defaultValue": "300"
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Select or create a stash folder where the downloaded files will be saved",
      "defaultValue": "./"
    }
  ]
}