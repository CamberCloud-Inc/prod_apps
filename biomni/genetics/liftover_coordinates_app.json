{
  "name": "biomni-liftover-coordinates",
  "title": "Biomni: Liftover Coordinates",
  "description": "Convert genomic coordinates between hg19 and hg38 genome builds",
  "content": "<h3>Overview</h3><p>This tool performs liftover (coordinate conversion) of genomic positions between different reference genome builds, specifically hg19 (GRCh37) and hg38 (GRCh38). It uses UCSC chain files to accurately map coordinates accounting for assembly differences, insertions, deletions, and rearrangements between genome versions. Essential for integrating datasets generated using different reference genomes and ensuring coordinate consistency across studies.</p><h3>Input Parameters</h3><ul><li><strong>chromosome</strong> (string): Chromosome identifier (e.g., '1', '2', 'X', 'Y', 'MT')</li><li><strong>position</strong> (integer): Genomic position in base pairs on the specified chromosome</li><li><strong>input_format</strong> (string): Source genome build - 'hg19' (GRCh37) or 'hg38' (GRCh38)</li><li><strong>output_format</strong> (string): Target genome build - 'hg19' (GRCh37) or 'hg38' (GRCh38)</li><li><strong>data_path</strong> (string): Path to directory containing liftover chain files for coordinate conversion</li></ul><h3>Biological Use Case</h3><p>Critical for genomics data integration and analysis: converting variant coordinates from older publications to current reference, integrating GWAS summary statistics across genome builds, updating genomic databases to latest assembly, validating variant positions across studies, preparing data for genome browsers, and ensuring consistency when combining datasets from different sources. Particularly important for clinical genomics where accurate variant interpretation requires consistent coordinate systems.</p><h3>Output</h3><p>Generates liftover results containing: converted genomic coordinates in target genome build, original and new positions for verification, success/failure status of coordinate mapping, information about coordinate shifts or unmappable regions, and detailed results file (liftover_{chr}_{pos}_results.txt) documenting the conversion with warnings for any ambiguous mappings or positions that cannot be lifted between assemblies.</p><h3>Category</h3><p>genetics</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/genetics/liftover_coordinates.py \"${chromosome}\" ${position} \"${input_format}\" \"${output_format}\" \"${data_path}\" -o \"${outputDir}\"",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Input",
      "name": "chromosome",
      "label": "Chromosome",
      "description": "Chromosome number (e.g., '1', 'X')",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "position",
      "label": "Position",
      "description": "Genomic position (integer)",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "input_format",
      "label": "Input Format",
      "description": "Input genome build (hg19 or hg38)",
      "defaultValue": "hg19"
    },
    {
      "type": "Input",
      "name": "output_format",
      "label": "Output Format",
      "description": "Output genome build (hg19 or hg38)",
      "defaultValue": "hg38"
    },
    {
      "type": "Stash File",
      "name": "data_path",
      "label": "Data Path",
      "description": "Path to liftover chain files",
      "defaultValue": ""
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Output directory in stash",
      "defaultValue": "./"
    }
  ]
}