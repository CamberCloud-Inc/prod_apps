{
  "name": "biomni-perform-pcr-and-gel-electrophoresis",
  "title": "Biomni: Perform PCR And Gel Electrophoresis",
  "description": "Simulate PCR amplification and visualize results using agarose gel electrophoresis",
  "content": "<h3>Overview</h3><p>This tool simulates polymerase chain reaction (PCR) amplification and agarose gel electrophoresis visualization. It models the PCR process including primer binding, extension, and exponential amplification over multiple cycles. The tool generates virtual gel images showing amplified DNA fragments, calculates expected product sizes, validates primer design, and predicts amplification efficiency based on thermodynamic parameters. Useful for experimental planning and troubleshooting PCR protocols.</p><h3>Input Parameters</h3><ul><li><strong>genomic_dna</strong> (string): Path to genomic DNA FASTA file or DNA sequence string to be amplified</li><li><strong>forward_primer</strong> (string, optional): Forward (5' to 3') primer sequence for PCR amplification</li><li><strong>reverse_primer</strong> (string, optional): Reverse (5' to 3') primer sequence for PCR amplification</li><li><strong>target_region</strong> (string, optional): Target region as 'start,end' coordinates if primers not provided</li><li><strong>annealing_temp</strong> (float, optional): Annealing temperature in degrees Celsius (default: 58)</li><li><strong>extension_time</strong> (integer, optional): Extension time in seconds per cycle (default: 30)</li><li><strong>cycles</strong> (integer, optional): Number of PCR cycles to simulate (default: 35)</li><li><strong>gel_percentage</strong> (float, optional): Agarose gel percentage for resolution (default: 2.0)</li><li><strong>output_prefix</strong> (string, optional): Prefix for output files (default: 'pcr_result')</li></ul><h3>Biological Use Case</h3><p>Essential for molecular biology experimental design: validating primer specificity and amplicon size before lab work, troubleshooting PCR failures (no product, multiple bands, primer dimers), optimizing PCR conditions computationally, teaching PCR principles and gel electrophoresis, designing genotyping assays, planning cloning experiments, and simulating multiplex PCR. Saves time and resources by identifying potential issues before conducting wet-lab experiments.</p><h3>Output</h3><p>Produces comprehensive PCR simulation results: virtual agarose gel image (PNG) showing DNA bands and molecular weight ladder, expected amplicon size and sequence, primer binding positions and orientations, melting temperature calculations for primers, predicted amplification efficiency, gel migration distances, and detailed log file ({prefix}_log.txt) containing PCR parameters, amplification kinetics, and quality assessments of primer design.</p><h3>Category</h3><p>genetics</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/genetics/perform_pcr_and_gel_electrophoresis.py \"${genomic_dna}\" ${forward_primer:+-f \"${forward_primer}\"} ${reverse_primer:+-r \"${reverse_primer}\"} ${target_region:+-t \"${target_region}\"} ${annealing_temp:+-a ${annealing_temp}} ${extension_time:+-e ${extension_time}} ${cycles:+-c ${cycles}} ${gel_percentage:+-g ${gel_percentage}} ${output_prefix:+-p \"${output_prefix}\"} -o \"${outputDir}\"",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Stash File",
      "name": "genomic_dna",
      "label": "Genomic DNA",
      "description": "Path to genomic DNA FASTA file or DNA sequence string",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "forward_primer",
      "label": "Forward Primer (Optional)",
      "description": "Forward primer sequence",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "reverse_primer",
      "label": "Reverse Primer (Optional)",
      "description": "Reverse primer sequence",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "target_region",
      "label": "Target Region (Optional)",
      "description": "Target region as 'start,end' (e.g., '100,500')",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "annealing_temp",
      "label": "Annealing Temperature (Optional)",
      "description": "Annealing temperature in \u00b0C (default: 58)",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "extension_time",
      "label": "Extension Time (Optional)",
      "description": "Extension time in seconds (default: 30)",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "cycles",
      "label": "Cycles (Optional)",
      "description": "Number of PCR cycles (default: 35)",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "gel_percentage",
      "label": "Gel Percentage (Optional)",
      "description": "Agarose gel percentage (default: 2.0)",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "output_prefix",
      "label": "Output Prefix (Optional)",
      "description": "Prefix for output files (default: 'pcr_result')",
      "defaultValue": ""
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Output directory in stash",
      "defaultValue": "./"
    }
  ]
}