{
  "name": "biomni-analyze-abr-waveform-p1-metrics",
  "title": "Biomni: Analyze Abr Waveform P1 Metrics",
  "description": "Extracts P1 amplitude and latency from Auditory Brainstem Response (ABR) waveform data.",
  "content": "<h3>Overview</h3><p>Extracts P1 amplitude and latency from Auditory Brainstem Response (ABR) waveform data. This tool analyzes the first positive peak (P1) in ABR recordings, which reflects early auditory pathway activity at the level of the cochlear nucleus and superior olivary complex.</p><h3>Input Parameters</h3><ul><li><strong>time_ms</strong> (required): Array of time points in milliseconds for the ABR waveform</li><li><strong>amplitude_uv</strong> (required): Array of amplitude values in microvolts corresponding to each time point</li></ul><h3>Input Format</h3><pre>{\n  \"time_ms\": [0.0, 0.1, 0.2, 0.3, ...],\n  \"amplitude_uv\": [0.05, 0.12, 0.25, 0.38, ...]\n}</pre><h3>Biological Use Case</h3><p>This analysis is essential for:</p><ul><li>Diagnosing hearing disorders and auditory neuropathy</li><li>Assessing auditory pathway integrity in clinical and research settings</li><li>Monitoring ototoxic drug effects on hearing</li><li>Evaluating auditory development in infants</li><li>Studying auditory processing in animal models of hearing loss</li></ul><h3>Output</h3><p>Returns P1 metrics including:</p><ul><li>P1 amplitude (microvolts)</li><li>P1 latency (milliseconds)</li><li>Quality metrics for waveform analysis</li></ul><h3>Category</h3><p>physiology</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/physiology/analyze_abr_waveform_p1_metrics.py --time-ms-file \"${timeMsFile}\" --amplitude-uv-file \"${amplitudeUvFile}\" -o \"${outputDir}\"",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Stash File",
      "name": "timeMsFile",
      "label": "Time Ms File",
      "description": "File containing time values in milliseconds (JSON array or CSV)",
      "defaultValue": ""
    },
    {
      "type": "Stash File",
      "name": "amplitudeUvFile",
      "label": "Amplitude Uv File",
      "description": "File containing amplitude values in microvolts (JSON array or CSV)",
      "defaultValue": ""
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Output directory in stash",
      "defaultValue": "./"
    }
  ]
}