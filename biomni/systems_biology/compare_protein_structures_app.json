{
  "name": "biomni-compare-protein-structures",
  "title": "Biomni: Compare Protein Structures",
  "description": "Compare two protein structures to identify structural differences and conformational changes using RMSD and per-residue distance analysis",
  "content": "<h3>Overview</h3><p>Compare two protein structures to identify structural differences and conformational changes using RMSD (Root Mean Square Deviation) and per-residue distance analysis. This tool performs structural alignment and quantifies differences between protein conformations, enabling analysis of protein dynamics, structural variations, and conformational changes.</p><h3>Input Parameters</h3><ul><li><strong>pdb_file1</strong> (string, required): Path to the first PDB structure file</li><li><strong>pdb_file2</strong> (string, required): Path to the second PDB structure file</li><li><strong>chain_id1</strong> (string, optional): Chain identifier for first structure (default: 'A')</li><li><strong>chain_id2</strong> (string, optional): Chain identifier for second structure (default: 'A')</li><li><strong>output_prefix</strong> (string, optional): Prefix for output files (default: 'protein_comparison')</li></ul><h3>Input Format</h3><pre>{\n  \"pdb_file1\": \"/path/to/structure1.pdb\",\n  \"pdb_file2\": \"/path/to/structure2.pdb\",\n  \"chain_id1\": \"A\",\n  \"chain_id2\": \"A\",\n  \"output_prefix\": \"comparison_output\"\n}</pre><h3>Biological Use Case</h3><p>This tool is essential for systems biology research involving:</p><ul><li>Comparing crystal structures of the same protein in different states (e.g., apo vs. holo forms)</li><li>Analyzing conformational changes induced by ligand binding or post-translational modifications</li><li>Studying protein dynamics by comparing snapshots from molecular dynamics simulations</li><li>Investigating structural effects of mutations in protein engineering studies</li><li>Validating homology models against experimental structures</li></ul><h3>Output</h3><p>The analysis generates a comprehensive comparison report including:</p><ul><li>Global RMSD value quantifying overall structural similarity</li><li>Per-residue distance deviations highlighting regions of structural change</li><li>Alignment statistics and quality metrics</li><li>Identification of flexible and rigid regions in the protein structure</li></ul><p>Results are saved to 'comparison_results.txt' in the specified output directory.</p><h3>Category</h3><p>systems_biology</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/systems_biology/compare_protein_structures.py \"${pdbFile1}\" \"${pdbFile2}\" --chain-id1 \"${chainId1}\" --chain-id2 \"${chainId2}\" --output-prefix \"${outputPrefix}\" -o \"${outputDir}\"",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Stash File",
      "name": "pdbFile1",
      "label": "PDB File 1",
      "description": "Path to the first PDB structure file",
      "defaultValue": ""
    },
    {
      "type": "Stash File",
      "name": "pdbFile2",
      "label": "PDB File 2",
      "description": "Path to the second PDB structure file",
      "defaultValue": ""
    },
    {
      "type": "String",
      "name": "chainId1",
      "label": "Chain ID 1",
      "description": "Chain identifier for first structure",
      "defaultValue": "A"
    },
    {
      "type": "String",
      "name": "chainId2",
      "label": "Chain ID 2",
      "description": "Chain identifier for second structure",
      "defaultValue": "A"
    },
    {
      "type": "String",
      "name": "outputPrefix",
      "label": "Output Prefix",
      "description": "Prefix for output files",
      "defaultValue": "protein_comparison"
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Output directory in stash",
      "defaultValue": "./"
    }
  ]
}