{
  "name": "biomni-blast-sequence",
  "title": "Biomni: BLAST Sequence",
  "description": "BLAST a sequence against NCBI databases to find similar sequences and functional annotations.",
  "content": "<h3>Overview</h3><p>Performs a BLAST (Basic Local Alignment Search Tool) search to identify sequences similar to your query sequence in NCBI databases. BLAST is fundamental for sequence homology searches, functional annotation, and evolutionary studies.</p><h3>Input Parameters</h3><ul><li><strong>sequence</strong> (string, required): The nucleotide or protein sequence to search against the database</li><li><strong>database</strong> (string, required): Target NCBI database (e.g., \"nt\" for nucleotide, \"nr\" for non-redundant protein)</li><li><strong>program</strong> (string, required): BLAST program type (\"blastn\", \"blastp\", \"blastx\", \"tblastn\", or \"tblastx\")</li></ul><h3>Biological Use Case</h3><p>Essential for identifying unknown sequences, finding homologous genes across species, annotating newly sequenced genomes, discovering gene families, and understanding evolutionary relationships. Researchers use BLAST to compare their sequences against millions of known sequences to infer function and identify similar proteins or genes.</p><h3>Output</h3><p>Returns a parameters (blast_results.json) containing alignment results with E-values, bit scores, sequence identities, alignment regions, and matched database entries. Each hit includes the subject sequence information, alignment statistics, and sequence coordinates.</p><h3>Category</h3><p>database</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/database/blast_sequence.py --sequence \"${sequence}\" --database \"${database}\" --program \"${program}\" -o \"${outputDir}\"",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Input",
      "name": "sequence",
      "label": "Sequence",
      "description": "The nucleotide or protein sequence to search",
      "defaultValue": "",
      "required": true
    },
    {
      "type": "Input",
      "name": "database",
      "label": "Database",
      "description": "Target NCBI database (e.g., 'nt', 'nr')",
      "defaultValue": "",
      "required": true
    },
    {
      "type": "Input",
      "name": "program",
      "label": "Program",
      "description": "BLAST program type (blastn, blastp, blastx, tblastn, tblastx)",
      "defaultValue": "",
      "required": true
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Output directory in stash",
      "defaultValue": "./"
    }
  ]
}