{
  "name": "biomni-query-clinvar",
  "title": "Biomni: Query Clinvar",
  "description": "Query NCBI's ClinVar database for clinically relevant genetic variants and their disease associations.",
  "content": "<h3>Overview</h3><p>Searches ClinVar, NCBI's public archive of relationships among human genetic variants and phenotypes. ClinVar aggregates variant interpretations from clinical testing laboratories, research studies, and expert panels, providing clinical significance classifications for genetic variants.</p><h3>Input Parameters</h3><ul><li><strong>prompt</strong> (string, optional): Natural language query about genetic variants (e.g., \"Find pathogenic BRCA1 variants\")</li><li><strong>search_term</strong> (string, optional): Direct search term for ClinVar database</li><li><strong>max_results</strong> (integer, optional): Maximum number of results to return (default: 3)</li></ul><h3>Input Format</h3><p>Create a JSON file with the following structure:</p><pre>{\n  \"prompt\": \"Find pathogenic variants in BRCA1 gene\",\n  \"search_term\": \"BRCA1[gene] AND pathogenic[clinical significance]\",\n  \"max_results\": 10\n}</pre><h3>Biological Use Case</h3><p>Fundamental for clinical genetics and genomic medicine. Used to interpret variants found in patient sequencing, assess pathogenicity of novel variants, identify known disease-causing mutations, support clinical diagnosis, guide genetic counseling, and inform treatment decisions. Essential for variant classification according to ACMG guidelines.</p><h3>Output</h3><p>Returns a JSON file (clinvar_results.json) containing variant details including genomic coordinates, reference/alternate alleles, clinical significance classifications (pathogenic, benign, VUS), disease associations, review status, submission sources, molecular consequences, and supporting evidence.</p><h3>Category</h3><p>database</p>",
  "command": "rm -rf prod_apps 2>/dev/null || true && git clone --depth 1 https://github.com/CamberCloud-Inc/prod_apps.git prod_apps && python3 prod_apps/biomni/database/query_clinvar.py --prompt \"${prompt}\" --search_term \"${search_term}\" --max_results \"${max_results}\" -o \"${outputDir}\"",
  "engineType": "MPI",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Select the configuration for the job",
      "options": [
        {
          "label": "Extra Extra Small CPU",
          "value": "xxsmall_cpu",
          "mapValue": {
            "nodeSize": "XXSMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "xxsmall_cpu"
    }
  ],
  "spec": [
    {
      "type": "Input",
      "name": "prompt",
      "label": "Prompt",
      "description": "Query prompt/description",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "search_term",
      "label": "Search Term",
      "description": "Search term for variants",
      "defaultValue": ""
    },
    {
      "type": "Input",
      "name": "max_results",
      "label": "Max Results",
      "description": "Maximum number of results (default: 3)",
      "defaultValue": "3"
    },
    {
      "type": "Stash File",
      "name": "outputDir",
      "label": "Output Directory",
      "description": "Output directory in stash",
      "defaultValue": "./"
    }
  ]
}