{
  "name": "chipseq-tf-binding",
  "title": "ChIP-seq Transcription Factor Binding Analysis",
  "description": "Identify transcription factor binding sites genome-wide using ChIP-seq. Peak calling with MACS3, quality control, and motif enrichment analysis for TF-DNA interactions. Samplesheet format: `sample,fastq_1,fastq_2,replicate,antibody,control`",
  "version": "1.0.0",
  "engineType": "NEXTFLOW",
  "command": "nextflow run nf-core/chipseq --input ${input} --outdir ${outdir} --genome ${genome} --narrow_peak --macs_gsize ${macs_gsize} -r 2.1.0 ",
  "imageUrl": "https://raw.githubusercontent.com/nf-core/chipseq/master/docs/images/nf-core-chipseq_logo_light.png",
  "content": "<h2><strong>ChIP-seq for Transcription Factor Binding</strong></h2><p><strong>ChIP-seq</strong> (Chromatin Immunoprecipitation followed by sequencing) is the gold standard for mapping protein-DNA interactions genome-wide. This pipeline identifies where transcription factors bind to regulate gene expression.</p><h3><strong>What is ChIP-seq?</strong></h3><blockquote><p><strong>The Technique</strong>:</p><ol><li><strong>Crosslink</strong>: Fix proteins to DNA with formaldehyde</li><li><strong>Shear</strong>: Fragment chromatin into 200-500bp pieces</li><li><strong>Immunoprecipitate</strong>: Use antibody to pull down TF of interest</li><li><strong>Reverse crosslink</strong>: Release DNA from proteins</li><li><strong>Sequence</strong>: Deep sequencing of enriched DNA fragments</li><li><strong>Map</strong>: Align reads to genome to find binding sites</li></ol></blockquote><h3><strong>Why ChIP-seq for TFs?</strong></h3><ul><li><strong>Direct Evidence</strong>: Shows where TFs actually bind (not just motifs)</li><li><strong>Genome-Wide</strong>: Discover all binding sites across the genome</li><li><strong>Condition-Specific</strong>: Binding changes with cell state</li><li><strong>Target Gene Discovery</strong>: Link TFs to regulated genes</li><li><strong>Regulatory Networks</strong>: Build TF-gene interaction maps</li><li><strong>Disease Mechanisms</strong>: Aberrant TF binding in disease</li></ul><h3><strong>Transcription Factor Examples</strong></h3><blockquote><p><strong>p53</strong> (Tumor Suppressor):</p><ul><li>Binds ~5000-10000 sites in stressed cells</li><li>Activates apoptosis, cell cycle arrest genes</li><li>Mutated in >50% of cancers</li><li>ChIP-seq reveals how p53 loss affects genome regulation</li></ul><p><strong>NF-\u03baB</strong> (Immune Response):</p><ul><li>Activated by inflammation, infection</li><li>Binds promoters/enhancers of cytokines</li><li>Chronic activation in autoimmune disease</li><li>ChIP-seq shows stimulus-specific binding patterns</li></ul><p><strong>OCT4, SOX2, NANOG</strong> (Pluripotency):</p><ul><li>Master regulators of stem cell identity</li><li>Co-occupy enhancers in ESCs</li><li>Loss causes differentiation</li><li>ChIP-seq defines the pluripotency network</li></ul><p><strong>CTCF</strong> (Genome Organizer):</p><ul><li>~50000-100000 binding sites</li><li>Defines TAD boundaries</li><li>Insulator function</li><li>3D genome architecture</li></ul></blockquote><h3><strong>Pipeline Analysis</strong></h3><ol><li><strong>Quality Control</strong>: FastQC checks read quality</li><li><strong>Trimming</strong>: Remove adapters, low-quality bases</li><li><strong>Alignment</strong>: BWA/Bowtie2/STAR maps reads to genome</li><li><strong>Filtering</strong>: Remove duplicates, blacklisted regions</li><li><strong>Peak Calling</strong>: MACS3 identifies enriched regions (narrow peaks for TFs)</li><li><strong>Peak Annotation</strong>: ChIPseeker assigns peaks to genes</li><li><strong>Motif Analysis</strong>: HOMER finds TF motifs in peaks</li><li><strong>QC Metrics</strong>: FRiP score, NSC, RSC, reproducibility</li></ol><h3><strong>Narrow Peaks for TFs</strong></h3><p>TFs bind to short, specific sequences (6-20bp motifs), creating <strong>narrow peaks</strong> (50-500bp):</p><ul><li><strong>MACS3 narrow peak mode</strong>: Optimized for sharp, focused enrichment</li><li><strong>High resolution</strong>: Pinpoint binding sites</li><li><strong>Motif finding</strong>: Easier on narrow peaks</li></ul><p><em>Contrast with histone modifications which produce broad peaks (1-10kb)</em></p><h3><strong>Scientific Questions</strong></h3><ul><li><strong>TF Regulons</strong>: What genes does this TF regulate?</li><li><strong>Co-factors</strong>: Do TFs bind together or alone?</li><li><strong>Condition-Specific Binding</strong>: How does TF binding change with stimulus?</li><li><strong>Disease Variants</strong>: Do SNPs disrupt TF binding sites?</li><li><strong>Drug Responses</strong>: How do drugs alter TF binding?</li><li><strong>Evolutionary Conservation</strong>: Are binding sites conserved?</li></ul><h3><strong>Applications</strong></h3><ul><li><strong>Cancer</strong>: Oncogenic TF binding (MYC, p53, ER\u03b1 in breast cancer)</li><li><strong>Immunology</strong>: Immune TFs (NF-\u03baB, STAT, IRF families)</li><li><strong>Stem Cells</strong>: Pluripotency TFs (OCT4, SOX2, NANOG, KLF4)</li><li><strong>Development</strong>: Developmental TFs (HOX, PAX, TBX families)</li><li><strong>Metabolism</strong>: Metabolic TFs (PPAR\u03b3, HNF4\u03b1, SREBP)</li><li><strong>Neuroscience</strong>: Neuronal TFs (CREB, REST, MECP2)</li></ul><h3><strong>Input Requirements</strong></h3><p>CSV samplesheet with columns:</p><ul><li><strong>sample</strong>: Sample name</li><li><strong>fastq_1</strong>: Path to R1 FASTQ</li><li><strong>fastq_2</strong>: Path to R2 FASTQ (for paired-end)</li><li><strong>antibody</strong>: TF antibody target</li><li><strong>control</strong>: Matching input/IgG control sample</li></ul><h3><strong>Key Outputs</strong></h3><ul><li><strong>Peak Calls</strong>: BED/narrowPeak files with TF binding sites</li><li><strong>BigWig Tracks</strong>: Genome browser visualization</li><li><strong>Peak Annotations</strong>: Genes associated with peaks</li><li><strong>Motif Enrichment</strong>: Known TF motifs in peaks</li><li><strong>QC Report</strong>: MultiQC with quality metrics</li><li><strong>Consensus Peaks</strong>: Reproducible peaks across replicates</li><li><strong>Differential Binding</strong>: Condition-specific TF binding changes</li></ul><blockquote><p><strong>Perfect for:</strong> TF binding sites \u2022 Gene regulation \u2022 Regulatory networks \u2022 Disease mechanisms \u2022 Drug targets \u2022 Motif discovery</p></blockquote>",
  "spec": [
    {
      "type": "Stash File",
      "label": "Sample Sheet",
      "name": "input",
      "description": "CSV with ChIP-seq samples and controls",
      "required": true,
      "restrictions": {
        "allow_files": true,
        "allow_folders": false,
        "allowed_file_types": [
          ".csv"
        ]
      }
    },
    {
      "type": "Select",
      "label": "Reference Genome",
      "name": "genome",
      "description": "Reference genome",
      "defaultValue": "GRCh38",
      "required": true,
      "options": [
        {
          "label": "Human GRCh38",
          "value": "GRCh38"
        },
        {
          "label": "Mouse GRCm39",
          "value": "GRCm39"
        },
        {
          "label": "Human GRCh37",
          "value": "GRCh37"
        },
        {
          "label": "Mouse GRCm38",
          "value": "GRCm38"
        }
      ]
    },
    {
      "type": "Select",
      "label": "MACS Genome Size",
      "name": "macs_gsize",
      "description": "Effective genome size for MACS3",
      "defaultValue": "2.7e9",
      "required": true,
      "options": [
        {
          "label": "Human (2.7e9)",
          "value": "2.7e9"
        },
        {
          "label": "Mouse (1.87e9)",
          "value": "1.87e9"
        }
      ]
    },
    {
      "type": "Stash File",
      "label": "Output Directory",
      "name": "outdir",
      "description": "Output directory",
      "defaultValue": "./chipseq-tf-results",
      "required": true,
      "restrictions": {
        "allow_files": false,
        "allow_folders": true
      }
    }
  ],
  "jobConfig": [
    {
      "type": "Select",
      "label": "Compute Resources",
      "name": "system_size",
      "hidden": false,
      "options": [
        {
          "label": "LARGE (Recommended)",
          "value": "large",
          "mapValue": {
            "nodeSize": "LARGE",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "large"
    }
  ],
  "tags": [
    {
      "name": "chip-seq",
      "type": "field"
    },
    {
      "name": "transcription-factors",
      "type": "task"
    },
    {
      "name": "epigenomics",
      "type": "task"
    }
  ]
}