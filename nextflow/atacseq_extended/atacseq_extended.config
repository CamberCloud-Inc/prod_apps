// Extended nf-core/atacseq configuration for Active Motif ATAC-seq kit parameters
// Based on successful basic configuration with comprehensive ATAC-seq settings

singularity {
    enabled = true
    autoMounts = true
    cacheDir = '/camber/home/ivannovikau32295788/outputs/nextflow/singularity_cache'
    runOptions = '--writable-tmpfs -B /camber/home/ivannovikau32295788/outputs/nextflow'
}

process {
    beforeScript = '''
        umask 0022
        chmod +x .command.run || true
        chmod +x .command.sh || true
    '''
    stageInMode = 'copy'
}

env {
    TMPDIR = '/camber/home/ivannovikau32295788/outputs/nextflow/tmp'
    NXF_SINGULARITY_CACHEDIR = '/camber/home/ivannovikau32295788/outputs/nextflow/singularity_cache'
}

// Parameter validation and defaults
params {
    // Validate required Active Motif parameters are set
    validate_params = true
    
    // Output formatting
    tracedir = "${params.outdir}/pipeline_info"
    
    // Resource limits for SLURM cluster
    max_cpus = 8
    max_memory = '32.GB'
    max_time = '12.h'
}