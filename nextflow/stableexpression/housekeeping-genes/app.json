{
  "name": "stableexpression-housekeeping-genes",
  "title": "Stable Expression - Reference Gene Identification",
  "description": "Pipeline to identify the most stable housekeeping genes across expression datasets for RT-qPCR reference gene selection",
  "version": "1.0dev",
  "engineType": "NEXTFLOW",
  "command": "nextflow run nf-core/stableexpression --species ${species} --datasets ${datasets} --outdir ${outdir} --normalisation_method ${normalisation_method} --nb_top_gene_candidates ${nb_top_gene_candidates} --fetch_eatlas_accessions ${fetch_eatlas_accessions} -r dev",
  "imageUrl": "https://raw.githubusercontent.com/nf-core/stableexpression/master/docs/images/nf-core-stableexpression_logo_light.png",
  "content": "<h2><strong>nf-core/stableexpression</strong></h2><p>Identifies the most stable genes across single or multiple expression datasets, particularly useful for finding suitable RT-qPCR reference genes for a specific species.</p><h3>Pipeline Workflow:</h3><ul><li>Retrieve Expression Atlas accessions (optional)</li><li>Download Expression Atlas data (optional)</li><li>Normalize raw count data using DESeq2 or EdgeR</li><li>Map gene IDs to Ensembl IDs</li><li>Compute pairwise gene variation statistics</li><li>Identify most stable gene candidates</li><li>Generate comprehensive MultiQC reports</li></ul><p>This pipeline supports both local count datasets and automatic retrieval from Expression Atlas.</p>",
  "spec": [
    {
      "type": "String",
      "label": "Species",
      "name": "species",
      "required": true,
      "description": "Species name for the analysis (e.g., 'homo_sapiens', 'mus_musculus')",
      "defaultValue": "homo_sapiens"
    },
    {
      "type": "Stash File",
      "label": "Datasets CSV",
      "name": "datasets",
      "required": true,
      "description": "CSV file containing count datasets with file paths and experimental design",
      "restrictions": {
        "allow_files": true,
        "allowed_file_types": [".csv"]
      }
    },
    {
      "type": "Stash File",
      "label": "Output Directory",
      "name": "outdir",
      "defaultValue": "./stableexpression-results",
      "required": true,
      "description": "Directory where pipeline results will be saved",
      "restrictions": {
        "allow_files": false,
        "allow_folders": true
      }
    },
    {
      "type": "Select",
      "label": "Normalization Method",
      "name": "normalisation_method",
      "options": [
        {
          "label": "DESeq2",
          "value": "deseq2"
        },
        {
          "label": "EdgeR",
          "value": "edger"
        }
      ],
      "defaultValue": "deseq2",
      "description": "Statistical method for normalizing raw count data"
    },
    {
      "type": "Integer",
      "label": "Number of Top Gene Candidates",
      "name": "nb_top_gene_candidates",
      "defaultValue": 1000,
      "description": "Number of candidate genes to retain for stability analysis"
    },
    {
      "type": "Boolean",
      "label": "Fetch Expression Atlas Datasets",
      "name": "fetch_eatlas_accessions",
      "defaultValue": false,
      "description": "Automatically fetch datasets from Expression Atlas based on species"
    }
  ],
  "jobConfig": [
    {
      "type": "Select",
      "label": "Resources",
      "name": "system_size",
      "options": [
        {
          "label": "MEDIUM",
          "value": "medium",
          "mapValue": {
            "nodeSize": "MEDIUM",
            "numNodes": 1,
            "withGpu": false
          }
        },
        {
          "label": "LARGE",
          "value": "large",
          "mapValue": {
            "nodeSize": "LARGE",
            "numNodes": 1,
            "withGpu": false
          }
        },
        {
          "label": "XLARGE",
          "value": "xlarge",
          "mapValue": {
            "nodeSize": "XLARGE",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "large"
    }
  ],
  "tags": [
    {
      "name": "stableexpression",
      "type": "pipeline"
    },
    {
      "name": "reference-genes",
      "type": "task"
    },
    {
      "name": "housekeeping-genes",
      "type": "task"
    },
    {
      "name": "gene-expression",
      "type": "category"
    }
  ]
}
