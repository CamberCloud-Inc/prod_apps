{
  "name": "differentialabundance-comparison",
  "title": "Differential Abundance: Universal DE Analysis",
  "description": "Universal differential abundance analysis for RNA-seq, proteomics, or any count-based data. Performs DE testing with DESeq2, edgeR, and limma-voom. Generates publication-ready plots and reports.",
  "version": "1.0.0",
  "engineType": "NEXTFLOW",
  "command": "nextflow run nf-core/differentialabundance --input ${input} --outdir ${outdir} --contrasts ${contrasts} --matrix ${matrix} -r 1.5.0 ",
  "imageUrl": "https://raw.githubusercontent.com/nf-core/differentialabundance/master/docs/images/nf-core-differentialabundance_logo_light.png",
  "content": "<h2><strong>Differential Abundance Analysis</strong></h2><p>Universal pipeline for differential expression/abundance testing. Works with RNA-seq, proteomics, metabolomics, or any count/intensity data. Performs statistical testing, visualization, and pathway enrichment.</p><h3><strong>Why Use This Pipeline?</strong></h3><ul><li><strong>Method Agnostic</strong>: RNA-seq, proteomics, ATAC-seq, ChIP-seq</li><li><strong>Multiple Tools</strong>: DESeq2, edgeR, limma-voom comparison</li><li><strong>Publication Ready</strong>: Volcano plots, MA plots, heatmaps</li><li><strong>QC Built-in</strong>: PCA, sample clustering, outlier detection</li><li><strong>Pathway Analysis</strong>: GO, KEGG enrichment</li></ul><h3><strong>Key Outputs</strong></h3><ul><li><strong>DE Results</strong>: Log2FC, p-values, FDR for each feature</li><li><strong>Volcano Plots</strong>: Visualize significance vs fold-change</li><li><strong>Heatmaps</strong>: Top DE features clustered</li><li><strong>PCA</strong>: Sample relationships</li><li><strong>Pathway Enrichment</strong>: Over-represented biological processes</li></ul><blockquote><p><strong>Perfect for:</strong> RNA-seq DE • Proteomics • Metabolomics • ATAC-seq • Any count data</p></blockquote>",
  "spec": [
    {
      "type": "Stash File",
      "label": "Sample Sheet",
      "name": "input",
      "description": "CSV with sample metadata",
      "required": true,
      "restrictions": {
        "allow_files": true,
        "allow_folders": false,
        "allowed_file_types": [".csv"]
      }
    },
    {
      "type": "Stash File",
      "label": "Count Matrix",
      "name": "matrix",
      "description": "Count/abundance matrix (features × samples)",
      "required": true,
      "restrictions": {
        "allow_files": true,
        "allow_folders": false,
        "allowed_file_types": [".csv", ".tsv", ".txt"]
      }
    },
    {
      "type": "Stash File",
      "label": "Contrasts File",
      "name": "contrasts",
      "description": "CSV defining comparisons",
      "required": true,
      "restrictions": {
        "allow_files": true,
        "allow_folders": false,
        "allowed_file_types": [".csv"]
      }
    },
    {
      "type": "Stash File",
      "label": "Output Directory",
      "name": "outdir",
      "description": "Output directory",
      "defaultValue": "./differential-abundance-results",
      "required": true,
      "restrictions": {
        "allow_files": false,
        "allow_folders": true
      }
    }
  ],
  "jobConfig": [
    {
      "type": "Select",
      "label": "Compute Resources",
      "name": "system_size",
      "hidden": false,
      "options": [
        {"label": "SMALL (Recommended)", "value": "small", "mapValue": {"nodeSize": "SMALL", "numNodes": 1, "withGpu": false}}
      ],
      "defaultValue": "small"
    }
  ],
  "tags": [
    {"name": "differential-expression", "type": "field"},
    {"name": "rna-seq", "type": "task"},
    {"name": "proteomics", "type": "task"}
  ]
}
