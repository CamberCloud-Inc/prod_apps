{
  "name": "denovohybrid-hybrid-assembly",
  "title": "De Novo Hybrid Assembly",
  "description": "Hybrid genome assembly pipeline combining long-read (Oxford Nanopore) and short-read (Illumina) sequencing data for high-quality bacterial and eukaryotic genome assemblies.",
  "version": "dev",
  "engineType": "NEXTFLOW",
  "command": "nextflow run nf-core/denovohybrid --input ${input} --outdir ${outdir} --mode ${mode} --minContigLength ${minContigLength} --genomeSize ${genomeSize} -r dev",
  "imageUrl": "https://raw.githubusercontent.com/nf-core/denovohybrid/master/docs/images/nf-core-denovohybrid_logo_light.png",
  "content": "<h2><strong>De Novo Hybrid Assembly</strong></h2><p>Hybrid genome assembly pipeline that combines long-read (Oxford Nanopore Technologies) and short-read (Illumina) sequencing data to generate high-quality genome assemblies.</p><h3>Key Features</h3><ul><li><strong>Multiple Assembly Methods:</strong> Unicycler (bacteria), miniasm, and wtdbg2 (eukaryotes)</li><li><strong>Comprehensive QC:</strong> FastQC for short reads, NanoPlot for long reads, and Quast for assembly quality</li><li><strong>Read Preprocessing:</strong> Automated adapter removal (Porechop) and quality filtering (Filtlong)</li><li><strong>Polishing:</strong> Long-read consensus with Racon and short-read polishing with Pilon</li><li><strong>Visualization:</strong> Assembly graph visualization with Bandage and MultiQC comprehensive reports</li></ul><h3>Assembly Methods</h3><ul><li><strong>Unicycler (default):</strong> State-of-the-art hybrid assembler for bacteria, often achieving complete closed genomes</li><li><strong>miniasm:</strong> Fast long-read assembler for large eukaryotic genomes with Racon consensus and Pilon polishing</li><li><strong>wtdbg2:</strong> Extremely fast long-read assembler suitable for large genomes</li></ul><h3>Input Requirements</h3><p>Tab-separated samplesheet with columns: Sample ID, Nanopore/long read file path, Illumina R1 file path, Illumina R2 file path. Pipeline can also perform long-read only assembly if short reads are not provided.</p><h3>Output</h3><ul><li>Assembled genome FASTA files</li><li>Assembly quality metrics (Quast reports)</li><li>Assembly graph visualizations (Bandage plots)</li><li>Comprehensive QC report (MultiQC)</li><li>Read quality metrics (FastQC, NanoPlot)</li></ul><p><strong>Note:</strong> This pipeline uses Nextflow DSL1 and requires Nextflow version 22.10.6 or earlier.</p>",
  "spec": [
    {
      "type": "Stash File",
      "label": "Input Samplesheet",
      "name": "input",
      "description": "Tab-separated design file with columns: Sample ID, Nanopore/long read file path, Illumina R1 file path, Illumina R2 file path",
      "required": true,
      "restrictions": {
        "allow_files": true,
        "allowed_file_types": [".tsv", ".txt"]
      }
    },
    {
      "type": "Stash File",
      "label": "Output Directory",
      "name": "outdir",
      "description": "The output directory where results will be saved",
      "defaultValue": "./denovohybrid-results",
      "required": true,
      "restrictions": {
        "allow_files": false,
        "allow_folders": true
      }
    },
    {
      "type": "Radio",
      "label": "Assembly Mode",
      "name": "mode",
      "description": "Choose the assembly method: unicycler (bacteria), miniasm (eukaryotes), wtdbg2 (fast eukaryotic assembly), or all (run all methods)",
      "defaultValue": "unicycler",
      "required": false,
      "options": [
        {"label": "Unicycler (bacteria)", "value": "unicycler"},
        {"label": "miniasm (eukaryotes)", "value": "miniasm"},
        {"label": "wtdbg2 (fast eukaryotic)", "value": "wtdbg2"},
        {"label": "All methods", "value": "all"}
      ]
    },
    {
      "type": "Input",
      "label": "Minimum Contig Length",
      "name": "minContigLength",
      "description": "Minimum contig size to retain in the final assembly (in base pairs)",
      "defaultValue": "1000",
      "required": false
    },
    {
      "type": "Input",
      "label": "Genome Size",
      "name": "genomeSize",
      "description": "Approximate genome size for coverage calculations (in base pairs, e.g., 5300000 for E. coli)",
      "defaultValue": "5300000",
      "required": false
    },
    {
      "type": "Input",
      "label": "Target Short Read Coverage",
      "name": "targetShortReadCov",
      "description": "Target coverage for short read subsampling (0 disables subsampling)",
      "defaultValue": "100",
      "required": false
    },
    {
      "type": "Input",
      "label": "Target Long Read Coverage",
      "name": "targetLongReadCov",
      "description": "Target coverage for long read subsampling (0 disables subsampling)",
      "defaultValue": "100",
      "required": false
    }
  ],
  "jobConfig": [
    {
      "type": "Select",
      "label": "Resources",
      "name": "system_size",
      "options": [
        {
          "label": "LARGE",
          "value": "large",
          "mapValue": {
            "nodeSize": "LARGE",
            "numNodes": 1,
            "withGpu": false
          }
        },
        {
          "label": "XLARGE",
          "value": "xlarge",
          "mapValue": {
            "nodeSize": "XLARGE",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "large"
    }
  ],
  "tags": [
    {"name": "denovohybrid", "type": "task"},
    {"name": "assembly", "type": "task"},
    {"name": "genomics", "type": "task"},
    {"name": "hybrid", "type": "task"},
    {"name": "nanopore", "type": "task"},
    {"name": "illumina", "type": "task"}
  ]
}
