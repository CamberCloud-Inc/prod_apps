{
  "name": "methylseq",
  "title": "DNA Methylation Sequencing Analysis",
  "description": "Comprehensive pipeline for analyzing DNA methylation patterns from bisulfite sequencing data. Supports WGBS, RRBS, and targeted bisulfite approaches. Ideal for epigenetics research in cancer, development, and environmental studies.",
  "content": "<h2 class=\"heading-node\">ðŸ§¬ Overview</h2><p class=\"text-node\">The <strong>DNA Methylation Sequencing Analysis</strong> pipeline enables comprehensive profiling of cytosine methylation patterns from bisulfite sequencing data. This workflow performs methylation-aware alignment, quantifies methylation levels at single-base resolution, and provides detailed quality control metrics for epigenetic insights.</p><img src=\"https://raw.githubusercontent.com/nf-core/methylseq/4.0.0/docs/images/4.0.0_metromap.png\" alt=\"Methylseq workflow: From bisulfite-treated reads to genome-wide methylation profiles\"><h2 class=\"heading-node\">ðŸ”§ Main Capabilities</h2><p class=\"text-node\">This pipeline integrates specialized tools for bisulfite sequencing analysis:</p><ul class=\"list-node\"><li class=\"list-item-node\"><strong>Quality Control:</strong> FastQC and Trim Galore for bisulfite-specific read processing</li><li class=\"list-item-node\"><strong>Alignment Options:</strong> Bismark (default) or bwa-meth for methylation-aware mapping</li><li class=\"list-item-node\"><strong>Methylation Calling:</strong> Single-base resolution CpG, CHG, and CHH context analysis</li><li class=\"list-item-node\"><strong>Deduplication:</strong> Remove PCR duplicates to ensure accurate methylation quantification</li><li class=\"list-item-node\"><strong>Coverage Analysis:</strong> Genome-wide methylation coverage and distribution reports</li><li class=\"list-item-node\"><strong>Visualization:</strong> MultiQC report with bisulfite conversion rates and M-bias plots</li></ul><h2 class=\"heading-node\">ðŸ“‹ Input Parameters</h2><p class=\"text-node\"><strong>Samplesheet Format:</strong> Provide a CSV file with sample information following this structure:</p><pre><code>sample,fastq_1,fastq_2\ncontrol_rep1,/path/to/control_rep1_R1.fastq.gz,/path/to/control_rep1_R2.fastq.gz\ncontrol_rep2,/path/to/control_rep2_R1.fastq.gz,/path/to/control_rep2_R2.fastq.gz\ntreated_rep1,/path/to/treated_rep1_R1.fastq.gz,/path/to/treated_rep1_R2.fastq.gz\ntreated_rep2,/path/to/treated_rep2_R1.fastq.gz,/path/to/treated_rep2_R2.fastq.gz</code></pre><ul class=\"list-node\"><li class=\"list-item-node\"><strong>sample:</strong> Unique sample identifier</li><li class=\"list-item-node\"><strong>fastq_1/2:</strong> Paths to paired-end bisulfite FASTQ files (single-end: fastq_1 only)</li></ul><p class=\"text-node\"><strong>Reference Genome:</strong> Select from pre-configured genomes (Human, Mouse, Arabidopsis, E. coli, etc.) or provide a custom FASTA file. The pipeline will automatically prepare bisulfite conversion indices.</p><blockquote class=\"block-node\"><p class=\"text-node\">ðŸ’¡ <strong>Resource Optimization:</strong> For optimal resource consumption, the number of nodes should not be greater than the number of samples in your samplesheet.</p></blockquote><h2 class=\"heading-node\">ðŸ”¬ Scientific Relevance & Use Cases</h2><p class=\"text-node\">This pipeline is essential for:</p><ul class=\"list-node\"><li class=\"list-item-node\"><strong>Epigenetic Studies:</strong> Understanding methylation changes in development and differentiation</li><li class=\"list-item-node\"><strong>Cancer Research:</strong> Identifying aberrant methylation patterns in tumor vs normal tissues</li><li class=\"list-item-node\"><strong>Environmental Epigenetics:</strong> Studying methylation responses to environmental factors</li><li class=\"list-item-node\"><strong>Imprinting Analysis:</strong> Characterizing parent-of-origin specific methylation</li><li class=\"list-item-node\"><strong>Aging Studies:</strong> Tracking epigenetic drift and DNA methylation clocks</li></ul><p class=\"text-node\">The pipeline supports whole-genome bisulfite sequencing (WGBS), reduced representation bisulfite sequencing (RRBS), and targeted bisulfite sequencing approaches.</p><h2 class=\"heading-node\">ðŸ“Š Expected Outputs</h2><ul class=\"list-node\"><li class=\"list-item-node\"><strong>Methylation Calls:</strong> BED/bedGraph files with methylation percentages per cytosine (CpG, CHG, CHH contexts)</li><li class=\"list-item-node\"><strong>Coverage Reports:</strong> Genome-wide methylation coverage statistics and depth distributions</li><li class=\"list-item-node\"><strong>M-bias Plots:</strong> Position-specific methylation bias assessment for quality control</li><li class=\"list-item-node\"><strong>Bisulfite Conversion:</strong> Non-CpG methylation rates indicating conversion efficiency (>99% expected)</li><li class=\"list-item-node\"><strong>Aligned BAMs:</strong> Methylation-aware alignments for visualization in genome browsers</li><li class=\"list-item-node\"><strong>MultiQC Report:</strong> Comprehensive quality control summary with all metrics</li></ul><hr><p class=\"text-node\"><em>Built with <a href=\"https://www.nextflow.io/\">Nextflow</a> and the <a href=\"https://nf-co.re/methylseq\">nf-core/methylseq</a> pipeline v4.1.0</em></p>",
  "version": "1.0.0",
  "imageUrl": "https://raw.githubusercontent.com/nf-core/methylseq/1.6//docs/images/nf-core-methylseq_logo.png",
  "command": "rm -rf prod_apps && git clone --depth=1 --filter=blob:none --sparse https://github.com/CamberCloud-Inc/prod_apps.git && cd prod_apps && git sparse-checkout set nextflow/methylseq && cd .. && nextflow run nf-core/methylseq --input \"${input}\" --outdir \"${output}\" --genome ${genome} -r ${revision} -c /etc/mpi/nextflow.camber.config $(if [ $(nproc) -ge 60 ]; then echo \"-c prod_apps/nextflow/methylseq/override.config\"; fi)",
  "engineType": "NEXTFLOW",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Choose computing power based on your dataset size. Larger genomes or more samples require more computational resources.",
      "options": [
        {
          "label": "Default",
          "value": "default",
          "mapValue": {
            "nodeSize": "SMALL",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "default"
    }
  ],
  "tags": [
    {"name": "genomics", "type": "subfield"},
    {"name": "analysis", "type": "task"},
    {"name": "biology", "type": "field"}
  ],
  "upstreamApps": [],
  "downstreamApps": [],
  "spec": [
    {
      "type": "Stash File",
      "label": "Input Samplesheet",
      "name": "input",
      "description": "CSV file with sample information and FASTQ file paths (columns: sample, fastq_1, fastq_2).",
      "defaultValue": "",
      "hidden": false,
      "required": true,
      "disabled": false,
      "restrictions": {
        "allow_files": true,
        "allow_folders": false,
        "allowed_file_types": [".csv"]
      }
    },
    {
      "type": "Stash File",
      "label": "Output Directory",
      "name": "output",
      "description": "Directory where results will be saved.",
      "defaultValue": "",
      "hidden": false,
      "required": true,
      "disabled": false,
      "restrictions": {
        "allow_files": false,
        "allow_folders": true,
        "allowed_file_types": []
      }
    },
    {
      "type": "Input",
      "label": "Pipeline Revision",
      "name": "revision",
      "description": "Version of nf-core/methylseq pipeline to use.",
      "defaultValue": "4.1.0",
      "hidden": true,
      "required": true,
      "disabled": false
    },
    {
      "type": "Select",
      "label": "Reference Genome",
      "name": "genome",
      "description": "Select pre-configured reference genome. The pipeline will automatically download and prepare bisulfite conversion indices.",
      "defaultValue": "GRCh37",
      "hidden": false,
      "required": true,
      "disabled": false,
      "options": [
        {
          "label": "Human GRCh37 (Ensembl)",
          "value": "GRCh37"
        },
        {
          "label": "Human GRCh38 (NCBI)",
          "value": "GRCh38"
        },
        {
          "label": "Human CHM13 (UCSC)",
          "value": "CHM13"
        },
        {
          "label": "Mouse GRCm38 (Ensembl)",
          "value": "GRCm38"
        },
        {
          "label": "Arabidopsis TAIR10 (Ensembl)",
          "value": "TAIR10"
        },
        {
          "label": "B. subtilis EB2 (Ensembl)",
          "value": "EB2"
        },
        {
          "label": "Cow UMD3.1 (Ensembl)",
          "value": "UMD3.1"
        },
        {
          "label": "C. elegans WBcel235 (Ensembl)",
          "value": "WBcel235"
        },
        {
          "label": "Dog CanFam3.1 (Ensembl)",
          "value": "CanFam3.1"
        },
        {
          "label": "Zebrafish GRCz10 (Ensembl)",
          "value": "GRCz10"
        },
        {
          "label": "Fly BDGP6 (Ensembl)",
          "value": "BDGP6"
        },
        {
          "label": "Horse EquCab2 (Ensembl)",
          "value": "EquCab2"
        },
        {
          "label": "E. coli EB1 (Ensembl)",
          "value": "EB1"
        },
        {
          "label": "Chicken Galgal4 (Ensembl)",
          "value": "Galgal4"
        },
        {
          "label": "Soybean Gm01 (Ensembl)",
          "value": "Gm01"
        },
        {
          "label": "Macaque Mmul_1 (Ensembl)",
          "value": "Mmul_1"
        },
        {
          "label": "Rice IRGSP-1.0 (Ensembl)",
          "value": "IRGSP-1.0"
        },
        {
          "label": "Chimp CHIMP2.1.4 (Ensembl)",
          "value": "CHIMP2.1.4"
        },
        {
          "label": "Rat Rnor_5.0 (Ensembl)",
          "value": "Rnor_5.0"
        },
        {
          "label": "Rat Rnor_6.0 (Ensembl)",
          "value": "Rnor_6.0"
        },
        {
          "label": "Yeast R64-1-1 (Ensembl)",
          "value": "R64-1-1"
        },
        {
          "label": "S. pombe EF2 (Ensembl)",
          "value": "EF2"
        },
        {
          "label": "Sorghum Sbi1 (Ensembl)",
          "value": "Sbi1"
        },
        {
          "label": "Pig Sscrofa10.2 (Ensembl)",
          "value": "Sscrofa10.2"
        },
        {
          "label": "Maize AGPv3 (Ensembl)",
          "value": "AGPv3"
        },
        {
          "label": "Human hg38 (UCSC)",
          "value": "hg38"
        },
        {
          "label": "Human hg19 (UCSC)",
          "value": "hg19"
        },
        {
          "label": "Mouse mm10 (UCSC)",
          "value": "mm10"
        },
        {
          "label": "Cow bosTau8 (UCSC)",
          "value": "bosTau8"
        },
        {
          "label": "C. elegans ce10 (UCSC)",
          "value": "ce10"
        },
        {
          "label": "Dog canFam3 (UCSC)",
          "value": "canFam3"
        },
        {
          "label": "Zebrafish danRer10 (UCSC)",
          "value": "danRer10"
        },
        {
          "label": "Fly dm6 (UCSC)",
          "value": "dm6"
        },
        {
          "label": "Horse equCab2 (UCSC)",
          "value": "equCab2"
        },
        {
          "label": "Chicken galGal4 (UCSC)",
          "value": "galGal4"
        },
        {
          "label": "Chimp panTro4 (UCSC)",
          "value": "panTro4"
        },
        {
          "label": "Rat rn6 (UCSC)",
          "value": "rn6"
        },
        {
          "label": "Yeast sacCer3 (UCSC)",
          "value": "sacCer3"
        },
        {
          "label": "Pig susScr3 (UCSC)",
          "value": "susScr3"
        }
      ]
    }
  ]
}

