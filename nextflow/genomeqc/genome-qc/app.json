{
  "name": "genomeqc-genome-qc",
  "title": "Genome QC - Genome Assembly Quality Assessment",
  "description": "nf-core/genomeqc is a bioinformatics pipeline that compares the quality of multiple genomes along with their annotations. The pipeline takes a list of genomes and annotations (from local files or NCBI accessions) and runs commonly used tools to assess their quality, including BUSCO, QUAST, and tidk for comprehensive genome completeness and contiguity analysis.",
  "version": "dev",
  "engineType": "NEXTFLOW",
  "command": "nextflow run nf-core/genomeqc --input ${input} --outdir ${outdir} --busco_lineage ${busco_lineage} ${run_tidk} ${run_merqury} -r dev",
  "imageUrl": "https://raw.githubusercontent.com/nf-core/genomeqc/master/docs/images/nf-core-genomeqc_logo_light.png",
  "content": "<h2><strong>Genome QC - Quality Assessment Pipeline</strong></h2><p><strong>nf-core/genomeqc</strong> is a bioinformatics pipeline that compares the quality of multiple genomes, along with their annotations.</p><h3>Pipeline Modes</h3><ul><li><strong>Genome only</strong>: Minimal run, only FASTA files are supplied</li><li><strong>Genome and Annotation</strong>: Both FASTA and GTF/GFF files are supplied</li></ul><h3>Key Tools</h3><ul><li><strong>BUSCO</strong>: Evaluates genome completeness based on single copy markers</li><li><strong>BUSCO Ideogram</strong>: Plots the location of markers on the assembly</li><li><strong>QUAST</strong>: Computes contiguity and integrity statistics (N50, N90, GC%, number of sequences)</li><li><strong>tidk</strong> (optional): Identifies and visualizes telomeric repeats</li><li><strong>Merqury</strong> (optional): Evaluates genome completeness based on sequencing reads</li></ul><h3>Input Requirements</h3><p>Provide a samplesheet in CSV format with columns:</p><ul><li><strong>species</strong>: Species identifier</li><li><strong>refseq</strong>: NCBI RefSeq accession (optional, for NCBI downloads)</li><li><strong>fasta</strong>: Path to genome assembly FASTA file</li><li><strong>gff</strong>: Path to annotation GFF/GTF file (optional)</li><li><strong>fastq</strong>: Path to sequencing reads for Merqury (optional)</li></ul><p><em>Originally written by Chris Wyatt and Fernando Duarte at University College London.</em></p>",
  "spec": [
    {
      "type": "Stash File",
      "label": "Input Samplesheet",
      "name": "input",
      "description": "CSV samplesheet containing genome information. Columns: species, refseq (optional), fasta, gff (optional), fastq (optional). For local files provide paths; for NCBI data provide RefSeq accessions.",
      "required": true,
      "restrictions": {
        "allow_files": true,
        "allowed_file_types": [".csv"]
      }
    },
    {
      "type": "Stash File",
      "label": "Output Directory",
      "name": "outdir",
      "description": "The output directory where results will be saved. QC reports, assemblies, and visualizations will be stored here.",
      "defaultValue": "./genomeqc-results",
      "required": true,
      "restrictions": {
        "allow_files": false,
        "allow_folders": true
      }
    },
    {
      "type": "Input",
      "label": "BUSCO Lineage",
      "name": "busco_lineage",
      "description": "Specify the BUSCO lineage dataset for completeness assessment (e.g., bacteria_odb10, metazoa_odb10, vertebrata_odb10). Setting to 'auto' (default) may cause problems - strongly recommended to specify manually.",
      "defaultValue": "auto",
      "required": true,
      "placeholder": "e.g., bacteria_odb10, metazoa_odb10, vertebrata_odb10"
    },
    {
      "type": "Switch",
      "label": "Run tidk",
      "name": "run_tidk",
      "description": "Enable tidk for telomeric repeat identification and visualization. Useful for eukaryotic genomes to assess telomere presence and distribution.",
      "defaultValue": false,
      "required": false
    },
    {
      "type": "Switch",
      "label": "Run Merqury",
      "name": "run_merqury",
      "description": "Enable Merqury for k-mer based genome completeness assessment using sequencing reads. Requires fastq column in input samplesheet.",
      "defaultValue": false,
      "required": false
    },
    {
      "type": "Switch",
      "label": "Save Assembly",
      "name": "save_assembly",
      "description": "Save downloaded/processed genome assemblies to output directory. Useful when using NCBI RefSeq accessions.",
      "defaultValue": false,
      "required": false
    },
    {
      "type": "Switch",
      "label": "Save Longest Isoform",
      "name": "save_longest_isoform",
      "description": "Save the longest isoform per gene from annotation files. Useful for downstream analyses requiring non-redundant gene sets.",
      "defaultValue": false,
      "required": false
    }
  ],
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "description": "Select compute resources. LARGE recommended for multiple genomes or large eukaryotic assemblies.",
      "options": [
        {
          "label": "MEDIUM",
          "value": "medium",
          "mapValue": {
            "nodeSize": "MEDIUM",
            "numNodes": 1,
            "withGpu": false
          }
        },
        {
          "label": "LARGE",
          "value": "large",
          "mapValue": {
            "nodeSize": "LARGE",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "large"
    }
  ],
  "tags": [
    {"name": "genomeqc", "type": "task"},
    {"name": "quality-control", "type": "category"},
    {"name": "genome-assembly", "type": "category"},
    {"name": "busco", "type": "tool"},
    {"name": "quast", "type": "tool"}
  ]
}
