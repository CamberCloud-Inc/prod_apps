{
  "name": "viralrecon-covid19-surveillance",
  "description": "SARS-CoV-2 genome reconstruction pipeline for public health surveillance. Analyzes Illumina amplicon sequencing data to identify viral variants, generate consensus sequences, and classify lineages for epidemiological tracking.",
  "content": "<h2 class=\"heading-node\"><strong>SARS-CoV-2 Surveillance Pipeline</strong></h2><p class=\"text-node\">This application implements the <strong>nf-core/viralrecon</strong> pipeline specifically configured for SARS-CoV-2 surveillance in public health laboratories. It reconstructs viral genomes from Illumina amplicon sequencing data using ARTIC primers, enabling rapid variant identification and lineage classification for epidemiological monitoring.</p><img src=\"https://raw.githubusercontent.com/nf-core/viralrecon/dev/docs/images/nf-core-viralrecon_metro_map_illumina.png\" alt=\"nf-core/viralrecon Illumina workflow\" title=\"\" width=\"600\" height=\"400\"><h2 class=\"heading-node\"><strong>Key Features</strong></h2><ul class=\"list-node\"><li><p class=\"text-node\"><strong>ARTIC Amplicon Analysis:</strong> Optimized for Illumina sequencing of ARTIC PCR amplicons (primer set V3) targeting the SARS-CoV-2 genome</p></li><li><p class=\"text-node\"><strong>Variant Calling:</strong> Identifies single nucleotide variants (SNVs) and indels with configurable frequency thresholds (â‰¥25% by default) using iVar</p></li><li><p class=\"text-node\"><strong>Consensus Generation:</strong> Creates high-quality consensus sequences for submission to public databases (GISAID, GenBank)</p></li><li><p class=\"text-node\"><strong>Lineage Classification:</strong> Automatic variant classification using Pangolin and Nextclade for epidemiological tracking</p></li><li><p class=\"text-node\"><strong>Quality Control:</strong> Comprehensive QC metrics including coverage depth, primer trimming statistics, and consensus quality</p></li></ul><h2 class=\"heading-node\"><strong>Use Case</strong></h2><p class=\"text-node\">Designed for public health laboratories and epidemiologists conducting SARS-CoV-2 genomic surveillance. Rapidly processes batch samples to identify variants of concern (VOCs), track transmission chains, and monitor viral evolution in populations.</p><h2 class=\"heading-node\"><strong>Pipeline Outputs</strong></h2><ul class=\"list-node\"><li><p class=\"text-node\"><strong>Consensus Sequences:</strong> High-quality FASTA files ready for database submission</p></li><li><p class=\"text-node\"><strong>Variant Calls:</strong> Annotated VCF files with intra-host variants and frequencies</p></li><li><p class=\"text-node\"><strong>Lineage Reports:</strong> Pangolin lineage assignments and Nextclade clade classifications</p></li><li><p class=\"text-node\"><strong>Quality Metrics:</strong> MultiQC summary report with coverage statistics and quality scores</p></li><li><p class=\"text-node\"><strong>Alignment Files:</strong> BAM files with primer-trimmed reads mapped to MN908947.3 reference</p></li></ul><p class=\"text-node\">Built using <a class=\"link\" href=\"https://www.nextflow.io/\"><u>Nextflow</u></a> with containerized processes for maximum reproducibility. Part of the <a class=\"link\" href=\"https://nf-co.re/viralrecon\"><u>nf-core</u></a> community pipelines.</p>",
  "imageUrl": "https://raw.githubusercontent.com/nf-core/viralrecon/dev/docs/images/nf-core-viralrecon_logo_light.png",
  "command": "export NXF_CACHE_DIR=/camber_work/temp/.nextflow; export NXF_LOG_FILE=/home/camber/jobs/${JOB_ID}/outputs/nextflow.log; nextflow run nf-core/viralrecon -r 2.6.0 --input ${samplesheet_location} --outdir ${outdir} --platform illumina --protocol amplicon --genome 'MN908947.3' --primer_set artic --primer_set_version ${primer_version} --skip_assembly --ivar_trim_noprimer --consensus_caller ivar --max_memory 128.GB --max_cpus 16 -c /etc/mpi/nextflow.camber.config -ansi-log false -profile k8s",
  "engineType": "NEXTFLOW",
  "jobConfig": [
    {
      "type": "Select",
      "label": "System Size",
      "name": "system_size",
      "hidden": true,
      "description": "Selecting a preset will prefill the node configuration below. You can still edit the values.",
      "options": [
        {
          "label": "Default",
          "value": "default",
          "mapValue": {
            "nodeSize": "LARGE",
            "numNodes": 1,
            "withGpu": false
          }
        }
      ],
      "defaultValue": "default"
    }
  ],
  "spec": [
    {
      "type": "Stash File",
      "label": "Samplesheet Location",
      "name": "samplesheet_location",
      "description": "Path to CSV file containing sample information. Format: sample,fastq_1,fastq_2. Each row represents one sample with paired-end FASTQ files (local paths or URLs).",
      "defaultValue": "https://raw.githubusercontent.com/nf-core/test-datasets/viralrecon/samplesheet/samplesheet_test_illumina_amplicon.csv",
      "hidden": false,
      "required": true,
      "disabled": false
    },
    {
      "type": "Select",
      "label": "ARTIC Primer Version",
      "name": "primer_version",
      "description": "ARTIC primer scheme version used for PCR amplification. V3 is most common, V4/4.1 for newer variants, V5.3.2 for latest Omicron sublineages.",
      "defaultValue": "3",
      "hidden": false,
      "required": true,
      "disabled": false,
      "options": [
        {
          "label": "V1 (Original)",
          "value": "1"
        },
        {
          "label": "V2",
          "value": "2"
        },
        {
          "label": "V3 (Most Common)",
          "value": "3"
        },
        {
          "label": "V4",
          "value": "4"
        },
        {
          "label": "V4.1",
          "value": "4.1"
        },
        {
          "label": "V5.3.2 (Latest)",
          "value": "5.3.2"
        }
      ]
    },
    {
      "type": "Stash File",
      "label": "Output Directory",
      "name": "outdir",
      "description": "Output directory for analysis results. If not specified, results will be written to ~/jobs/<jobid>/outputs/. Results include consensus sequences, variant calls, lineage assignments, and QC reports.",
      "defaultValue": "./",
      "hidden": false,
      "required": false,
      "disabled": false
    }
  ]
}