{
    "name": "bactmap-variant-mapping",
    "title": "Bacterial Variant Mapping and Phylogeny",
    "description": "Bacterial whole genome sequencing analysis pipeline for phylogenetic tree construction through mapping-based variant calling. Performs read mapping, variant detection, pseudogenome generation, and tree building for outbreak investigation. Samplesheet format: `sample,fastq_1,fastq_2`",
    "version": "1.0.0",
    "engineType": "NEXTFLOW",
    "command": "nextflow run nf-core/bactmap --input ${input} --outdir ${outdir} -r 1.0.0 ",
    "imageUrl": "https://raw.githubusercontent.com/nf-core/bactmap/master/docs/images/nf-core-bactmap_logo_light.png",
    "content": "<h2><strong>Bactmap - Bacterial Variant Mapping and Phylogeny</strong></h2><p>Bioinformatics pipeline for bacterial whole genome sequence analysis focused on creating phylogenetic trees through a mapping-based approach. Enables outbreak investigation and evolutionary studies by identifying variants and reconstructing phylogenetic relationships.</p><h3><strong>What is Bactmap?</strong></h3><blockquote><p><strong>Bactmap</strong> uses reference-based mapping to identify variants across bacterial isolates and constructs phylogenetic trees, revealing transmission patterns and evolutionary relationships critical for outbreak tracking and comparative genomics.</p></blockquote><h3><strong>Key Features</strong></h3><ul><li><strong>Mapping-Based Approach</strong>: Reference-guided variant calling</li><li><strong>Multiple Tree Methods</strong>: Fast and accurate options</li><li><strong>Recombination Removal</strong>: Optional filtering for vertical inheritance</li><li><strong>Pseudogenome Generation</strong>: Create alignment-ready sequences</li><li><strong>Flexible Configuration</strong>: Optional downsampling and trimming</li><li><strong>Quality Control</strong>: Comprehensive QC metrics</li></ul><h3><strong>Pipeline Workflow</strong></h3><ol><li><strong>Reference Indexing</strong>: Prepare reference genome</li><li><strong>Optional Trimming</strong>: Read quality and adapter trimming</li><li><strong>Genome Size Estimation</strong>: Calculate expected coverage</li><li><strong>Optional Downsampling</strong>: Normalize read depth</li><li><strong>Read Mapping</strong>: Align reads to reference</li><li><strong>Alignment Processing</strong>: Sort and index BAM files</li><li><strong>Variant Calling</strong>: Identify SNPs and indels</li><li><strong>Variant Filtering</strong>: Apply quality thresholds</li><li><strong>Pseudogenome Generation</strong>: Create consensus sequences</li><li><strong>Alignment Creation</strong>: Multi-sequence alignment</li><li><strong>Recombination Removal</strong>: Optional Gubbins filtering</li><li><strong>Variant Extraction</strong>: Identify informative sites</li><li><strong>Phylogenetic Tree</strong>: Construct trees with multiple methods</li></ol><h3><strong>Scientific Applications</strong></h3><ul><li><strong>Outbreak Investigation</strong>: Track bacterial transmission</li><li><strong>Phylogenetic Analysis</strong>: Understand evolutionary relationships</li><li><strong>Comparative Genomics</strong>: Compare strain diversity</li><li><strong>Epidemiological Studies</strong>: Source tracking and spread</li><li><strong>Antimicrobial Resistance</strong>: Evolution of resistance genes</li></ul><h3><strong>Tree Building Methods</strong></h3><ul><li><strong>FastTree</strong>: Rapid approximate ML trees</li><li><strong>RAxML</strong>: Maximum likelihood phylogeny</li><li><strong>IQ-TREE</strong>: Fast ML with model selection</li><li><strong>SNP-only trees</strong>: Based on variant sites</li></ul><h3><strong>Advantages</strong></h3><ul><li><strong>Standardized Workflow</strong>: Best practices automated</li><li><strong>Comprehensive Analysis</strong>: Variants to trees in one pipeline</li><li><strong>Flexible Options</strong>: Customizable for different needs</li><li><strong>Reproducible</strong>: Containerized environment</li><li><strong>Well-Documented</strong>: Clear usage guidelines</li></ul><h3><strong>Input Requirements</strong></h3><ul><li><strong>FASTQ Files</strong>: Illumina paired-end reads</li><li><strong>Reference Genome</strong>: Bacterial reference FASTA</li><li><strong>Sample Sheet</strong>: CSV with sample information</li><li><strong>Optional</strong>: Known variant positions to exclude</li></ul><h3><strong>Main Outputs</strong></h3><ul><li><strong>Phylogenetic Trees</strong>: Newick format trees</li><li><strong>Variant Calls</strong>: VCF files with SNPs/indels</li><li><strong>Pseudogenomes</strong>: Consensus sequences per sample</li><li><strong>Alignment Files</strong>: Multi-sequence alignment</li><li><strong>Variant Sites</strong>: Informative SNP positions</li><li><strong>QC Reports</strong>: Mapping and variant statistics</li><li><strong>Recombination Filtered</strong>: Optional Gubbins results</li></ul><blockquote><p><strong>Perfect for:</strong> Bacterial Genomics \u2022 Outbreak Investigation \u2022 Phylogenetics \u2022 Epidemiology \u2022 Comparative Genomics</p></blockquote>",
    "spec": [
        {
            "type": "Stash File",
            "label": "Input",
            "name": "input",
            "required": true,
            "restrictions": {
                "allow_files": true,
                "allowed_file_types": [
                    ".csv",
                    ".tsv"
                ]
            }
        },
        {
            "type": "Stash File",
            "label": "Output",
            "name": "outdir",
            "defaultValue": "./bactmap-results",
            "required": true,
            "restrictions": {
                "allow_files": false,
                "allow_folders": true
            }
        }
    ],
    "jobConfig": [
        {
            "type": "Select",
            "label": "Resources",
            "name": "system_size",
            "options": [
                {
                    "label": "LARGE",
                    "value": "large",
                    "mapValue": {
                        "nodeSize": "LARGE",
                        "numNodes": 1,
                        "withGpu": false
                    }
                }
            ],
            "defaultValue": "large"
        }
    ],
    "tags": [
        {
            "id": "fb1ee42a-629a-4d99-9e7f-1da3c5f7a691",
            "name": "biology",
            "type": "field"
        },
        {
            "id": "6e4e74a4-560e-4674-95c3-60fe895b8c91",
            "name": "genomics",
            "type": "subfield"
        },
        {
            "id": "831477f4-f572-4e27-af83-037661489800",
            "name": "analysis",
            "type": "task"
        }
    ]
}